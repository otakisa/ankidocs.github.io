<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ankiweb与同步问题 | Anki中文文档</title>
    <meta name="description" content="用最快的时间掌握Anki">
    
    
    <link rel="preload" href="/assets/css/0.styles.f142a733.css" as="style"><link rel="preload" href="/assets/js/app.7fd52e30.js" as="script"><link rel="preload" href="/assets/js/2.a342b5c9.js" as="script"><link rel="preload" href="/assets/js/10.d07f5c38.js" as="script"><link rel="prefetch" href="/assets/js/11.f6ae0482.js"><link rel="prefetch" href="/assets/js/12.105a63fd.js"><link rel="prefetch" href="/assets/js/13.af657d4a.js"><link rel="prefetch" href="/assets/js/14.b504c977.js"><link rel="prefetch" href="/assets/js/15.c3340790.js"><link rel="prefetch" href="/assets/js/16.60afacac.js"><link rel="prefetch" href="/assets/js/17.da6ac49b.js"><link rel="prefetch" href="/assets/js/18.69f416a4.js"><link rel="prefetch" href="/assets/js/19.148d16aa.js"><link rel="prefetch" href="/assets/js/20.f912f805.js"><link rel="prefetch" href="/assets/js/21.24458e7c.js"><link rel="prefetch" href="/assets/js/22.853459e1.js"><link rel="prefetch" href="/assets/js/23.41b46c31.js"><link rel="prefetch" href="/assets/js/24.7dba13d5.js"><link rel="prefetch" href="/assets/js/25.ddefc6f2.js"><link rel="prefetch" href="/assets/js/26.ce3c5d4c.js"><link rel="prefetch" href="/assets/js/27.ad13e2eb.js"><link rel="prefetch" href="/assets/js/28.3faba7c1.js"><link rel="prefetch" href="/assets/js/29.67372105.js"><link rel="prefetch" href="/assets/js/3.4a30e576.js"><link rel="prefetch" href="/assets/js/30.b6061513.js"><link rel="prefetch" href="/assets/js/31.788db9ae.js"><link rel="prefetch" href="/assets/js/4.7cfd28d1.js"><link rel="prefetch" href="/assets/js/5.7d93cad3.js"><link rel="prefetch" href="/assets/js/6.b3632556.js"><link rel="prefetch" href="/assets/js/7.b83a04ae.js"><link rel="prefetch" href="/assets/js/8.6019a2cc.js"><link rel="prefetch" href="/assets/js/9.358c1e9f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f142a733.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Anki中文文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/docs/about.html" class="nav-link">关于</a></div><div class="nav-item"><a href="https://anki.link/wiki/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  牌组
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/docs/about.html" class="nav-link">关于</a></div><div class="nav-item"><a href="https://anki.link/wiki/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  牌组
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>快速入门</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>中文文档</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/trans/" class="sidebar-link">常见问题</a></li><li><a href="/docs/trans/video.html" class="sidebar-link">介绍视频</a></li><li><a href="/docs/trans/introduction.html" class="sidebar-link">介绍</a></li><li><a href="/docs/trans/basics.html" class="sidebar-link">基本术语</a></li><li><a href="/docs/trans/add-materials.html" class="sidebar-link">添加内容</a></li><li><a href="/docs/trans/studying.html" class="sidebar-link">学习</a></li><li><a href="/docs/trans/editing.html" class="sidebar-link">编辑</a></li><li><a href="/docs/trans/cards-and-templates.html" class="sidebar-link">卡组与模版</a></li><li><a href="/docs/trans/profiles-and-preferences.html" class="sidebar-link">配置文件及偏好设置</a></li><li><a href="/docs/trans/deck-options.html" class="sidebar-link">记忆库选项</a></li><li><a href="/docs/trans/ankiweb-and-sync.html" class="active sidebar-link">Ankiweb与同步问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/trans/ankiweb-and-sync.html#配置" class="sidebar-link">配置</a></li><li class="sidebar-sub-header"><a href="/docs/trans/ankiweb-and-sync.html#自动同步" class="sidebar-link">自动同步</a></li><li class="sidebar-sub-header"><a href="/docs/trans/ankiweb-and-sync.html#媒体文件" class="sidebar-link">媒体文件</a></li><li class="sidebar-sub-header"><a href="/docs/trans/ankiweb-and-sync.html#冲突" class="sidebar-link">冲突</a></li><li class="sidebar-sub-header"><a href="/docs/trans/ankiweb-and-sync.html#防火墙" class="sidebar-link">防火墙</a></li><li class="sidebar-sub-header"><a href="/docs/trans/ankiweb-and-sync.html#代理" class="sidebar-link">代理</a></li></ul></li><li><a href="/docs/trans/browser.html" class="sidebar-link">浏览器</a></li><li><a href="/docs/trans/filtered-deck-and-cramming.html" class="sidebar-link">过滤记忆库&amp;死记硬背</a></li><li><a href="/docs/trans/leeches.html" class="sidebar-link">依附词 Leeches</a></li><li><a href="/docs/trans/importing.html" class="sidebar-link">导入</a></li><li><a href="/docs/trans/exporting.html" class="sidebar-link">导出</a></li><li><a href="/docs/trans/managing-files-and-your-collection.html" class="sidebar-link">管理文件和你的集合</a></li><li><a href="/docs/trans/graphs-and-statistics.html" class="sidebar-link">图形与统计</a></li><li><a href="/docs/trans/meida.html" class="sidebar-link">媒体</a></li><li><a href="/docs/trans/mathjax-support.html" class="sidebar-link">MathJax支持</a></li><li><a href="/docs/trans/latex-support.html" class="sidebar-link">LaTeX支持</a></li><li><a href="/docs/trans/miscellanea.html" class="sidebar-link">杂集</a></li><li><a href="/docs/trans/contributing.html" class="sidebar-link">共享</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ankiweb与同步问题"><a href="#ankiweb与同步问题" aria-hidden="true" class="header-anchor">#</a> Ankiweb与同步问题</h1> <p>Ankiweb是一种服务，可以让你在多个设备同步你的集合，和在线学习。请在操作以下步骤之前注册一个<a href="https://ankiweb.net/" target="_blank" rel="noopener noreferrer">免费帐号<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h2 id="配置"><a href="#配置" aria-hidden="true" class="header-anchor">#</a> 配置</h2> <p>要开始跨设备同步集合，请单击sync按钮(主屏幕上的右上角)，或按键盘上的y。您将被提示输入您在注册过程中创建的AnkiWeb ID和密码。</p> <p>当你第一次同步你的收藏时，Anki会问你是想上传还是下载。如果你的电脑上有卡，你的AnkiWeb帐户是空的，选择“上传”将你的数据发送到AnkiWeb。如果您的AnkiWeb上有来自其他设备的卡片，而您的计算机上没有卡片，请选择“下载”，将空的本地集合替换为AnkiWeb上的卡片。如果您在两台设备上都有不同的卡，则需要做更多的工作来避免丢失数据。</p> <p>一旦初始的单向同步完成，Anki 将能够合并来自多个位置的更改，只有少数例外。</p> <div class="danger custom-block"><p class="custom-block-title">注意</p> <p>如果一台机器上有多人使用 Anki，且都创建了各自的用户，则每个用户都需要相应地创建自己的 AnkiWeb 帐号以同步内容。用一个 AnkiWeb 帐号同步多个用户的内容，将会导致数据丢失。</p></div> <h2 id="自动同步"><a href="#自动同步" aria-hidden="true" class="header-anchor">#</a> 自动同步</h2> <p>一旦同步功能启用，Anki将在每次关闭或打开集合时自动同步。如果您希望手动同步，可以在Anki的首选项中禁用自动同步。</p> <h2 id="媒体文件"><a href="#媒体文件" aria-hidden="true" class="header-anchor">#</a> 媒体文件</h2> <p>Anki同步的内容包括笔记里用到的音频和图片。Anki能检测媒体文件夹里媒体文件的增减，但是并不会察觉到你对已有媒体文件所做的编辑。要让编辑得以同步，你必须添加或删除某些媒体文件。</p> <div class="danger custom-block"><p class="custom-block-title">注意</p> <p>建议在NTFS文件格式的U盘上运行Anki，否则运行在FAT32文件格式上，Anki不一定能检查出多媒体文件修改并同步。</p></div> <h2 id="冲突"><a href="#冲突" aria-hidden="true" class="header-anchor">#</a> 冲突</h2> <p>在正常情况下，复习和注释编辑可以合并，所以如果您在同步之前在两个不同的设备上复习或编辑，Anki将保存来自这两个位置的更改。如果同一张卡片在两个不同的地方被检查过，那么这两次检查都将被标记在修订历史中，并且卡片将保持在最近一次回答时的状态。</p> <p>有些更改是Anki无法合并的。这些主要与笔记的格式有关:比如添加新字段或删除卡片模板。当您执行无法合并的操作时，Anki将发出警告，并提供中止操作的选项。如果您选择继续，当您的集合下一次同步时，您将被要求选择是保留本地副本还是保留AnkiWeb上的副本。</p> <p>如果在同步时检测到某些问题，它还将强制单向同步。如果你发现这种情况经常发生，请在我们的支持网站上发帖。</p> <p>当需要单向同步时，您需要选择希望将集合保存在本地设备上，还是保存在AnkiWeb上。如果在两端都进行了更改，则只能保留一端的更改。</p> <p>如果选择上载，本地设备上的内容将被发送到AnkiWeb。然后，您需要同步您的其他设备，并选择“下载”，让他们获取该内容的副本。</p> <p>如果您选择Download，它将替换您对AnkiWeb上的数据所做的任何本地更改。</p> <p>一旦所有设备都处于同步状态，未来的同步将恢复到从两端合并更改的正常行为。</p> <p>如果需要强制全部上传或下载（可能在某个终端意外删除记忆库（牌组），因此需要从别处恢复，并非将这个终端没有这个牌组（记忆库）的集合同步到其他地方），在工具&gt;偏好设置&gt;网络，勾选“下次同步时，强制单向同步”，再同步，就可以选择与哪个终端同步。</p> <div class="danger custom-block"><p class="custom-block-title">注意</p> <p>强制单向同步只影响卡同步-媒体同步正常。如果您有想要从AnkiWeb中删除的文件，请首先确保您的客户端是完全同步的。在你最新一次同步后，任何你移除的文件(如通过检查媒体功能)将会因AnkiWeb遵循同步规则而删除。</p></div> <h2 id="防火墙"><a href="#防火墙" aria-hidden="true" class="header-anchor">#</a> 防火墙</h2> <p>Anki需要能够使出站HTTPS连接同步。至少它必须能够连接到ankiweb.net、sync.ankiweb.net和syncN.ankiweb.net，其中N是3到6之间的数字。这些域可能随着时间的推移而变化，它们指向的IP地址也可能发生变化，因此我们建议您允许通配符访问*.ankiweb.net，以减少将来需要更新防火墙规则的机会。</p> <p>如果您的计算机上有防火墙，您应该为Anki添加一个规则。如果您在工作或学校的网络上，请联系您的网络管理员寻求帮助——这不是我们可以帮助您的事情。</p> <h2 id="代理"><a href="#代理" aria-hidden="true" class="header-anchor">#</a> 代理</h2> <p>如果您需要一个代理来访问internet，如果您在Windows或OS X上，Anki应该自动获取您的系统代理设置，如果您在另一个平台上，Anki将使用HTTP_PROXY环境变量。</p> <p>请注意，在Anki中不支持通过.pac或.wpad文件进行高级代理设置。</p> <p>要覆盖Windows或OS X上的系统代理设置，请定义指向代理服务器的HTTP_PROXY环境变量。它看起来像下面这样:</p> <div class="language- extra-class"><pre class="language-text"><code>http://user:pass@proxy.company.com:8080
</code></pre></div><p>如果用户名或密码包含字符@（如 user@workdomain.com），请将其改为 %40，例如：</p> <div class="language- extra-class"><pre class="language-text"><code>http://user%40workdomain.com:pass@proxy.company.com:8080
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">注意</p> <p>Anki 2.1使用HTTPS_PROXY而不是HTTP_PROXY。</p></div> <p>关于 Windows 上的环境变量设置，参见：<a href="https://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/sysdm_advancd_environmnt_addchange_variable.mspx?mfr=true" target="_blank" rel="noopener noreferrer">https://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/sysdm_advancd_environmnt_addchange_variable.mspx?mfr=true<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Mac 用户请参见：<a href="http://stackoverflow.com/questions/135688/setting-environment-variables-in-os-x" target="_blank" rel="noopener noreferrer">http://stackoverflow.com/questions/135688/setting-environment-variables-in-os-x<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="danger custom-block"><p class="custom-block-title">注意</p> <p>不幸的是，Anki所基于的工具包目前无法从系统设置中获取代理用户名和密码。这意味着，如果使用需要身份验证的代理，同步将失败。在这种情况下，您将需要使用如上所述定义代理详细信息的环境变量，或者使用路由流量的个人代理服务器，该服务器反过来连接到需要身份验证的上游代理。</p></div> <div class="danger custom-block"><p class="custom-block-title">注意</p> <p>严重锁定的网络拦截安全连接并提供自己的证书，反而可能导致Anki抛出SSL错误。我们不支持在这样的环境中使用Anki。</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/trans/deck-options.html" class="prev">
          记忆库选项
        </a></span> <span class="next"><a href="/docs/trans/browser.html">
          浏览器
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7fd52e30.js" defer></script><script src="/assets/js/2.a342b5c9.js" defer></script><script src="/assets/js/10.d07f5c38.js" defer></script>
  </body>
</html>
